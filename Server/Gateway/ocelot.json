{
    "Routes": [
        // === USER API ===
        {
            "DownstreamPathTemplate": "/api/Users/login",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/login",
            "UpstreamHttpMethod": [ "POST" ]
        },
        {
            "DownstreamPathTemplate": "/api/Users/logout",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/logout",
            "UpstreamHttpMethod": [ "POST" ]
        },
        {
            "DownstreamPathTemplate": "/api/Users/checkEmailExits",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/checkEmail",
            "UpstreamHttpMethod": [ "POST" ]
        },
        {
            "DownstreamPathTemplate": "/api/Users/register",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/register",
            "UpstreamHttpMethod": [ "POST" ]
        },
        {
            "DownstreamPathTemplate": "/api/Users/refresh-token",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/refreshToken",
            "UpstreamHttpMethod": [ "POST" ]
        },
        {
            "DownstreamPathTemplate": "/{everything}",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/{everything}",
            "UpstreamHttpMethod": [ "GET" ]
        },
        {
            "DownstreamPathTemplate": "/odata/ODataUsers",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/get",
            "UpstreamHttpMethod": [ "GET" ],
            "AuthenticationOptions": {
                "AuthenticationProviderKey": "Bearer",
                "RequireAuthentication": true
            },
            "RouteClaimsRequirement": {
                "http://schemas.microsoft.com/ws/2008/06/identity/claims/role": "Customer|Admin|StadiumManager"
            }
        },
        {
            "DownstreamPathTemplate": "/api/Users?userId={userId}",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/info",
            "UpstreamHttpMethod": [ "GET" ],
            "AuthenticationOptions": {
                "AuthenticationProviderKey": "Bearer",
                "RequireAuthentication": true
            },
            "RouteClaimsRequirement": {
                "http://schemas.microsoft.com/ws/2008/06/identity/claims/role": "Customer"
            },
            "ChangeDownstreamPathTemplate": {
                "userId": "Claims[http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier] > value"
            }
        },
        {
            "DownstreamPathTemplate": "/api/Users",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/getById",
            "UpstreamHttpMethod": [ "GET" ],
            "AuthenticationOptions": {
                "AuthenticationProviderKey": "Bearer",
                "RequireAuthentication": true
            },
            "RouteClaimsRequirement": {
                "http://schemas.microsoft.com/ws/2008/06/identity/claims/role": "Customer|Admin|StadiumManager"
            }
        },
        {
            "DownstreamPathTemplate": "/api/Users",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/update-profile",
            "UpstreamHttpMethod": [ "PUT" ]
        },
        {
            "DownstreamPathTemplate": "/api/Users/{userId}",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/{userId}",
            "UpstreamHttpMethod": [ "DELETE" ],
            "AuthenticationOptions": {
                "AuthenticationProviderKey": "Bearer",
                "RequireAuthentication": true
            },
            "RouteClaimsRequirement": {
                "http://schemas.microsoft.com/ws/2008/06/identity/claims/role": "Admin"
            },
            "ChangeDownstreamPathTemplate": {
                "userId": "Claims[http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier] > value"
            }
        },
        {
            "DownstreamPathTemplate": "/api/Users/reset-password",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7295
                }
            ],
            "UpstreamPathTemplate": "/users/forgot-password",
            "UpstreamHttpMethod": [ "POST" ]
        },



        //----------------------BOOKING-----------------------------
        {
            "DownstreamPathTemplate": "/odata/bookings?$filter=UserId eq {userId}",
            "DownstreamScheme": "https",
            "DownstreamHostAndPorts": [
                {
                    "Host": "localhost",
                    "Port": 7015
                }
            ],
            "UpstreamPathTemplate": "/bookings/history",
            "UpstreamHttpMethod": [ "GET" ],
            "AuthenticationOptions": {
                "AuthenticationProviderKey": "Bearer",
                "RequireAuthentication": true
            },
            "RouteClaimsRequirement": {
                "http://schemas.microsoft.com/ws/2008/06/identity/claims/role": "Customer"
            },
            "ChangeDownstreamPathTemplate": {
                "userId": "Claims[http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier] > value"
            }
        }

    ],
  "GlobalConfiguration": {
    "BaseUrl": "https://localhost:7136"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Debug",
      "Microsoft": "Warning",
      "Ocelot": "Debug"
    }
  }
}